(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1178:function(v,_,o){"use strict";o.r(_);var t=o(11),e=Object(t.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"babel-分析"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#babel-分析"}},[v._v("#")]),v._v(" babel 分析")]),v._v(" "),_("p",[_("strong",[_("code",[v._v("babel")])]),v._v(" 实际上类似一般的的语言编译器，作用就是输入输入代码，实际上跟很多人理解的不太一样，babel 并不是只能用于 ES6 编译成 ES5，只要你愿意，你完全可以把 ES5 编译成 ES6，或者使用自己创造的某种语法（例如 JSX，以及babel 插件就属于这类），你需要做的只是编写对应的插件。")]),v._v(" "),_("p",[_("strong",[_("code",[v._v("babel")])]),v._v(" 转换代码的过程主要为三步：")]),v._v(" "),_("ul",[_("li",[v._v("第一步："),_("strong",[v._v("解析")]),v._v(" 使用 "),_("strong",[_("code",[v._v("babylon")])]),v._v(" 这个解析器，它会根据输入的 javascript 代码字符串根据 "),_("strong",[_("code",[v._v("ESTree")])]),v._v(" 规范生成 "),_("strong",[_("code",[v._v("AST（抽象语法树）")])]),v._v(" 。")]),v._v(" "),_("li",[v._v("第二步："),_("strong",[v._v("转换")]),v._v(" 根据一定的规则转换、修改 AST。")]),v._v(" "),_("li",[v._v("第三步："),_("strong",[v._v("生成")]),v._v(" 使用 "),_("strong",[_("code",[v._v("babel-generator")])]),v._v(" 将修改后的 "),_("strong",[_("code",[v._v("AST")])]),v._v(" 转换成普通代码")])]),v._v(" "),_("p",[v._v("这就是 babel 工作的整个过程，就是纯粹的字符串输入输出而已，而 "),_("strong",[_("code",[v._v("babel插件")])]),v._v(" 或者 "),_("strong",[_("code",[v._v("预置的stage-0,1,2,3，jsx")])]),v._v(" 等，都是第二步转换的“规则”。")]),v._v(" "),_("blockquote",[_("p",[_("strong",[v._v("AST")]),v._v(" 抽象语法树（Abstract Syntax Tree，AST） 它是源代码的一种映射，语言引擎根据 AST 就能知道代码的作用是什么。")])]),v._v(" "),_("p",[_("strong",[_("code",[v._v("babel")])]),v._v(" 的插件系统基于 "),_("strong",[_("code",[v._v("访问者模式")])]),v._v(" 设计")]),v._v(" "),_("h2",{attrs:{id:"总结"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[v._v("#")]),v._v(" 总结")]),v._v(" "),_("p",[_("strong",[_("code",[v._v("Babel")])]),v._v(" 是 "),_("strong",[_("code",[v._v("JavaScript 编译器")])]),v._v("：他能让开发者在开发过程中，直接使用各类方言（如 "),_("strong",[_("code",[v._v("TS、Flow、JSX")])]),v._v("）或新的语法特性，而不需要考虑运行环境，因为 "),_("strong",[_("code",[v._v("Babel")])]),v._v(" 可以做到按需转换为低版本支持的代码；"),_("strong",[_("code",[v._v("Babel")])]),v._v(" 内部原理是将 "),_("strong",[_("code",[v._v("JS")])]),v._v(" 代码转换为 "),_("strong",[_("code",[v._v("AST")]),v._v("，对 "),_("code",[v._v("AST")])]),v._v(" 应用各种插件进行处理，最终输出编译后的 "),_("strong",[_("code",[v._v("JS")])]),v._v(" 代码。")])])}),[],!1,null,null,null);_.default=e.exports}}]);